import{_ as e,a,b as s}from"./status-plugin-DBja8Xl-.js";import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,b as i,o as p}from"./app-DrX2Z_hR.js";const c={};function l(r,n){return p(),t("div",null,n[0]||(n[0]=[i(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p><strong>你可能需要先安装 <a href="https://golang.google.cn/" target="_blank" rel="noopener noreferrer">Golang</a></strong></p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>编写此文档时，<code>GoneBot</code> 版本为 <code>v1.1.4</code></p></div><h1 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h1><h2 id="配置-onebotv11-协议服务" tabindex="-1"><a class="header-anchor" href="#配置-onebotv11-协议服务"><span>配置 OneBotV11 协议服务</span></a></h2><p>由于适配器尚未开发完全，目前 <code>GoneBot</code> 仅支持 <code>OneBotV11</code> 协议适配器。</p><p>以 <code>Lagrange.OneBot</code> 作为协议服务端为例：</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><strong>你可能需要前往下方链接先行安装 <code>Lagrange.OneBot</code>。</strong></p><p><strong><a href="https://lagrangedev.github.io/Lagrange.Doc/Lagrange.OneBot/Config/" target="_blank" rel="noopener noreferrer">Lagrange.OneBot 快速部署 &amp; 配置</a></strong></p><p><strong>我们会假设你已经在本地安装了 <code>Lagrange.OneBot</code>。</strong></p></div><p>安装好 <code>Lagrange.OneBot</code> 后，第一次启动 <code>Lagrange.OneBot</code> 并在它生成配置文件后立即退出，修改生成的 <code>appsettings.json</code> 其中的 <code>Implementations</code> 内容：</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>别忘了填写 <code>Account</code> 字段中的 <code>Uin</code> 字段，填入机器人的 QQ 号用来登录！</p></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    ...<span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;Implementations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ReverseWebSocket&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;Port&quot;</span><span class="token operator">:</span> <span class="token number">25565</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;Suffix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/onebot/v11/ws&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;ReconnectInterval&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;HeartBeatInterval&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token property">&quot;AccessToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这配置了一项反向 WebSocket 服务，并每五秒尝试连接 <code>ws://0.0.0.0:25565/onebot/v11/ws</code>。</p><p>这里的地址和端口假定了你在本地运行 GoneBot，并将 OneBotV11 适配器的 WebSocket 端口配置为 25565，你可以根据你的实际需求修改具体的地址和端口。</p></div><p>完成配置后，启动 <code>Lagrange.OneBot</code>。</p><h2 id="安装-gonebot" tabindex="-1"><a class="header-anchor" href="#安装-gonebot"><span>安装 GoneBot</span></a></h2><p>我们准备了 <code>GoneBot</code> 的一个 Demo，你可以直接下载并运行它：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">git</span> clone https://github.com/gonebot-dev/gonedemo.git</span>
<span class="line"><span class="token builtin class-name">cd</span> gonedemo</span>
<span class="line">go run gonedemo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>gonedemo</code> 使用了如下的配置文件：</p><div class="language-.env line-numbers-mode" data-highlighter="prismjs" data-ext=".env" data-title=".env"><pre><code><span class="line">ONEBOTV11_HOST=&quot;0.0.0.0:25565&quot;</span>
<span class="line">COMMAND_START=&quot;/&quot;</span>
<span class="line">NICKNAME=&quot;bot&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，<code>gonedemo</code> 默认配置了 WebSocket 地址为 <code>ws://0.0.0.0:25565/onebot/v11/ws</code>，与之前的 <code>Lagrange.OneBot</code> 配置一致。</p><p>等待几秒后，你会看到 <code>gonedemo</code> 成功连接到 <code>Lagrange.OneBot</code> 并输出相关日志：</p><figure><img src="`+e+'" alt="命令行输出" tabindex="0" loading="lazy"><figcaption>命令行输出</figcaption></figure><p>如果你看到了类似上面的日志输出，那么恭喜你，你的第一个 QQ 机器人配置成功了！</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p><code>gonedemo</code> 使用 <code>/</code> 作为指令前缀，你可以自由修改它，但相关的 <code>Command</code> 规则会以该配置作为前缀识别。</p><p>关于 <code>Command</code> 规则的定义会在之后的章节中给出。</p></div><p><code>gonedemo</code> 默认配置了 <a href="https://github.com/gonebot-dev/goneplugin-echo" target="_blank" rel="noopener noreferrer">Echo</a> 和 <a href="https://github.com/gonebot-dev/goneplugin-status" target="_blank" rel="noopener noreferrer">Status</a> 两个插件。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>你可以通过向 Bot 账号私发 <code>/echo</code> 和 <code>/status</code> 来测试它们。</p><p>它们分别会原封不动地回复相同的消息，和输出当前服务器的状态信息：</p></div><figure><img src="'+a+'" alt="Echo 插件" tabindex="0" loading="lazy"><figcaption>Echo 插件</figcaption></figure><figure><img src="'+s+'" alt="Status 插件" tabindex="0" loading="lazy"><figcaption>Status 插件</figcaption></figure><div class="hint-container warning"><p class="hint-container-title">注意</p><p>在本地测试时，有时 Lagrange.OneBot 可能会一直无法发出链接到 QQ 服务器的图片（它会在日志中明确写出问题），这可能并不是 <code>GoneBot</code> 出现的问题。</p></div>',27)]))}const v=o(c,[["render",l],["__file","index.html.vue"]]),m=JSON.parse('{"path":"/zh/quickstart/","title":"快速开始","lang":"zh-CN","frontmatter":{"title":"快速开始","index":false,"icon":"rocket","category":["快速开始"],"tag":["安装","配置","运行"]},"headers":[{"level":2,"title":"配置 OneBotV11 协议服务","slug":"配置-onebotv11-协议服务","link":"#配置-onebotv11-协议服务","children":[]},{"level":2,"title":"安装 GoneBot","slug":"安装-gonebot","link":"#安装-gonebot","children":[]}],"git":{"createdTime":1733397969000,"updatedTime":1733397969000,"contributors":[{"name":"Kingcq","email":"404291187@qq.com","commits":1}]},"readingTime":{"minutes":2.08,"words":624},"filePathRelative":"zh/quickstart/README.md","localizedDate":"2024年12月5日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p><strong>你可能需要先安装 <a href=\\"https://golang.google.cn/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Golang</a></strong></p>\\n</div>\\n<div class=\\"hint-container warning\\">\\n<p class=\\"hint-container-title\\">注意</p>\\n<p>编写此文档时，<code>GoneBot</code> 版本为 <code>v1.1.4</code></p>\\n</div>"}');export{v as comp,m as data};
